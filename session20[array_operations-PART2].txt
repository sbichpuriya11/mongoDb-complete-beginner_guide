Please enter a MongoDB connection string (Default: mongodb://localhost/): mongodb://localhost:27017
mongodb://localhost:27017
Current Mongosh Log ID: 662f152176f768a35946b798
Connecting to:          mongodb://localhost:27017/?directConnection=true&serverSelectionTimeoutMS=2000&appName=mongosh+2.2.5
Using MongoDB:          7.0.8
Using Mongosh:          2.2.5

For mongosh info see: https://docs.mongodb.com/mongodb-shell/

------
   The server generated these startup warnings when booting
   2024-04-28T23:08:50.451+05:30: Access control is not enabled for the database. Read and write access to data and configuration is unrestricted
------

test> use school
switched to db school
school> db.students.find()
[
  {
    _id: ObjectId('662c0595bc4e4460df46b79a'),
    name: 'Aarav Patel',
    hobbies: [ 'Anime', 'Cooking' ],
    age: 12
  },
  {
    _id: ObjectId('662c059bbc4e4460df46b79b'),
    name: 'Aarav Patel',
    hobbies: [ 'Anime', 'Cooking' ],
    age: 12
  },
  {
    _id: ObjectId('662c059fbc4e4460df46b79c'),
    name: 'Ishita Sharma',
    hobbies: [ 'Anime', 'Cooking' ],
    age: 10
  },
  {
    _id: ObjectId('662c05a4bc4e4460df46b79d'),
    name: 'Advik Singh',
    hobbies: [ 'Anime', 'Cooking' ],
    age: 11
  },
  {
    _id: ObjectId('662c05a8bc4e4460df46b79e'),
    name: 'Diya Shah',
    hobbies: [ 'Anime', 'Cooking' ],
    age: 12
  },
  {
    _id: ObjectId('662c05aebc4e4460df46b79f'),
    name: 'Arjun Gupta',
    hobbies: [ 'Anime', 'Cooking' ],
    age: 13
  },
  {
    _id: ObjectId('662c05b0bc4e4460df46b7a0'),
    name: 'Ananya Reddy',
    hobbies: [ 'Anime', 'Cooking' ],
    age: 11
  },
  {
    _id: ObjectId('662c05b7bc4e4460df46b7a1'),
    name: 'Vihaan Kumar',
    hobbies: [ 'Anime', 'Cooking' ],
    age: 10
  },
  {
    _id: ObjectId('662c05bbbc4e4460df46b7a2'),
    name: 'Zoya Khan',
    hobbies: [ 'Anime', 'Cooking' ],
    age: 12
  },
  {
    _id: ObjectId('662c05bebc4e4460df46b7a3'),
    name: 'Ayaan Sharma',
    hobbies: [ 'Anime', 'Cooking' ],
    age: 11
  },
  {
    _id: ObjectId('662c05c2bc4e4460df46b7a4'),
    name: 'Saanvi Patel',
    hobbies: [ 'Anime', 'Cooking' ],
    age: 12
  },
  {
    _id: ObjectId('662c05c7bc4e4460df46b7a5'),
    name: 'Kabir Singh',
    hobbies: [ 'Anime', 'Cooking' ],
    age: 10
  },
  {
    _id: ObjectId('662c05ccbc4e4460df46b7a6'),
    name: 'Aisha Gupta',
    hobbies: [ 'Anime', 'Cooking' ],
    age: 11
  },
  {
    _id: ObjectId('662c05d3bc4e4460df46b7a7'),
    name: 'Rehan Kapoor',
    idCards: { hasAadhar: true, hasPanCard: false },
    hobbies: [ 'Anime', 'Cooking' ],
    age: 12
  },
  {
    _id: ObjectId('662c05d7bc4e4460df46b7a8'),
    name: 'Anika Reddy',
    hobbies: [ 'Anime', 'Cooking' ],
    age: 10
  },
  {
    _id: ObjectId('662c05dabc4e4460df46b7a9'),
    name: 'Dhruv Kumar',
    hobbies: [ 'Anime', 'Cooking' ],
    age: 13
  },
  {
    _id: ObjectId('662c05ddbc4e4460df46b7aa'),
    name: 'Nitya Shah',
    hobbies: [ 'Anime', 'Cooking' ],
    age: 11
  },
  {
    _id: ObjectId('662c05e2bc4e4460df46b7ab'),
    name: 'Yuvraj Singh',
    idCards: { hasAadhar: true, hasPanCard: true },
    hobbies: [ 'Anime', 'Cooking' ],
    age: 12
  },
  {
    _id: ObjectId('662c05e4bc4e4460df46b7ac'),
    name: 'Tanisha Patel',
    hobbies: [ 'Anime', 'Cooking' ],
    age: 10
  },
  {
    _id: ObjectId('662c05e7bc4e4460df46b7ad'),
    name: 'Aarush Sharma',
    hobbies: [ 'Anime', 'Cooking' ],
    age: 23
  }
]
Type "it" for more
school> use ecommerece
switched to db ecommerece
ecommerece> db.orders.find()
[
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c4'),
    user_id: '7',
    username: 'user7',
    orders: [
      {
        order_id: '1011',
        product: 'Widget I',
        quantity: 2,
        price: 12.99,
        timestamp: '2024-04-17T10:30:00Z'
      },
      {
        order_id: '1012',
        product: 'Widget J',
        quantity: 1,
        price: 14.99,
        timestamp: '2024-04-16T09:15:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c5'),
    user_id: '9',
    username: 'user9',
    orders: [
      {
        order_id: '1014',
        product: 'Widget L',
        quantity: 1,
        price: 19.99,
        timestamp: '2024-04-14T14:45:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c6'),
    user_id: '4',
    username: 'user4',
    orders: [
      {
        order_id: '1006',
        product: 'Widget D',
        quantity: 1,
        price: 20.99,
        timestamp: '2024-04-22T14:00:00Z'
      },
      {
        order_id: '1007',
        product: 'Widget E',
        quantity: 1,
        price: 25.99,
        timestamp: '2024-04-21T11:30:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c7'),
    user_id: '1',
    username: 'user1',
    orders: [
      {
        order_id: '1001',
        product: 'Widget A',
        quantity: 2,
        price: 10.99,
        timestamp: '2024-04-27T10:00:00Z'
      },
      {
        order_id: '1002',
        product: 'Widget B',
        quantity: 1,
        price: 15.49,
        timestamp: '2024-04-26T15:30:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c8'),
    user_id: '2',
    username: 'user2',
    orders: [
      {
        order_id: '1003',
        product: 'Widget C',
        quantity: 3,
        price: 8.99,
        timestamp: '2024-04-25T09:45:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c9'),
    user_id: '10',
    username: 'user10',
    orders: [
      {
        order_id: '1015',
        product: 'Widget M',
        quantity: 3,
        price: 24.99,
        timestamp: '2024-04-13T16:30:00Z'
      },
      {
        order_id: '1016',
        product: 'Widget N',
        quantity: 1,
        price: 28.49,
        timestamp: '2024-04-12T11:20:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ca'),
    user_id: '11',
    username: 'user11',
    orders: [
      {
        order_id: '1017',
        product: 'Widget O',
        quantity: 2,
        price: 26.99,
        timestamp: '2024-04-11T09:00:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cb'),
    user_id: '12',
    username: 'user12',
    orders: [
      {
        order_id: '1018',
        product: 'Widget P',
        quantity: 1,
        price: 32.99,
        timestamp: '2024-04-10T14:20:00Z'
      },
      {
        order_id: '1019',
        product: 'Widget Q',
        quantity: 2,
        price: 35.49,
        timestamp: '2024-04-09T16:10:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cc'),
    user_id: '5',
    username: 'user5',
    orders: [
      {
        order_id: '1008',
        product: 'Widget F',
        quantity: 2,
        price: 18.99,
        timestamp: '2024-04-20T08:45:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cd'),
    user_id: '8',
    username: 'user8',
    orders: [
      {
        order_id: '1013',
        product: 'Widget K',
        quantity: 2,
        price: 16.99,
        timestamp: '2024-04-15T12:00:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ce'),
    user_id: '3',
    username: 'user3',
    orders: [
      {
        order_id: '1004',
        product: 'Widget A',
        quantity: 1,
        price: 10.99,
        timestamp: '2024-04-24T12:15:00Z'
      },
      {
        order_id: '1005',
        product: 'Widget B',
        quantity: 2,
        price: 15.49,
        timestamp: '2024-04-23T16:20:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cf'),
    user_id: '14',
    username: 'user14',
    orders: [
      {
        order_id: '1022',
        product: 'Widget T',
        quantity: 2,
        price: 30.99,
        timestamp: '2024-04-06T14:15:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d0'),
    user_id: '13',
    username: 'user13',
    orders: [
      {
        order_id: '1020',
        product: 'Widget R',
        quantity: 1,
        price: 28.99,
        timestamp: '2024-04-08T10:45:00Z'
      },
      {
        order_id: '1021',
        product: 'Widget S',
        quantity: 1,
        price: 32.49,
        timestamp: '2024-04-07T12:30:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d1'),
    user_id: '15',
    username: 'user15',
    orders: [
      {
        order_id: '1023',
        product: 'Widget U',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-05T11:00:00Z'
      },
      {
        order_id: '1024',
        product: 'Widget V',
        quantity: 3,
        price: 40.49,
        timestamp: '2024-04-04T09:30:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d2'),
    user_id: '6',
    username: 'user6',
    orders: [
      {
        order_id: '1009',
        product: 'Widget G',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-19T13:20:00Z'
      },
      {
        order_id: '1010',
        product: 'Widget H',
        quantity: 3,
        price: 30.49,
        timestamp: '2024-04-18T17:10:00Z'
      }
    ]
  }
]
ecommerece> db.orders.find({orders:{$elemMatch:{quantity:{$lte:2}}}})
[
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c4'),
    user_id: '7',
    username: 'user7',
    orders: [
      {
        order_id: '1011',
        product: 'Widget I',
        quantity: 2,
        price: 12.99,
        timestamp: '2024-04-17T10:30:00Z'
      },
      {
        order_id: '1012',
        product: 'Widget J',
        quantity: 1,
        price: 14.99,
        timestamp: '2024-04-16T09:15:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c5'),
    user_id: '9',
    username: 'user9',
    orders: [
      {
        order_id: '1014',
        product: 'Widget L',
        quantity: 1,
        price: 19.99,
        timestamp: '2024-04-14T14:45:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c6'),
    user_id: '4',
    username: 'user4',
    orders: [
      {
        order_id: '1006',
        product: 'Widget D',
        quantity: 1,
        price: 20.99,
        timestamp: '2024-04-22T14:00:00Z'
      },
      {
        order_id: '1007',
        product: 'Widget E',
        quantity: 1,
        price: 25.99,
        timestamp: '2024-04-21T11:30:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c7'),
    user_id: '1',
    username: 'user1',
    orders: [
      {
        order_id: '1001',
        product: 'Widget A',
        quantity: 2,
        price: 10.99,
        timestamp: '2024-04-27T10:00:00Z'
      },
      {
        order_id: '1002',
        product: 'Widget B',
        quantity: 1,
        price: 15.49,
        timestamp: '2024-04-26T15:30:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c9'),
    user_id: '10',
    username: 'user10',
    orders: [
      {
        order_id: '1015',
        product: 'Widget M',
        quantity: 3,
        price: 24.99,
        timestamp: '2024-04-13T16:30:00Z'
      },
      {
        order_id: '1016',
        product: 'Widget N',
        quantity: 1,
        price: 28.49,
        timestamp: '2024-04-12T11:20:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ca'),
    user_id: '11',
    username: 'user11',
    orders: [
      {
        order_id: '1017',
        product: 'Widget O',
        quantity: 2,
        price: 26.99,
        timestamp: '2024-04-11T09:00:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cb'),
    user_id: '12',
    username: 'user12',
    orders: [
      {
        order_id: '1018',
        product: 'Widget P',
        quantity: 1,
        price: 32.99,
        timestamp: '2024-04-10T14:20:00Z'
      },
      {
        order_id: '1019',
        product: 'Widget Q',
        quantity: 2,
        price: 35.49,
        timestamp: '2024-04-09T16:10:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cc'),
    user_id: '5',
    username: 'user5',
    orders: [
      {
        order_id: '1008',
        product: 'Widget F',
        quantity: 2,
        price: 18.99,
        timestamp: '2024-04-20T08:45:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cd'),
    user_id: '8',
    username: 'user8',
    orders: [
      {
        order_id: '1013',
        product: 'Widget K',
        quantity: 2,
        price: 16.99,
        timestamp: '2024-04-15T12:00:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ce'),
    user_id: '3',
    username: 'user3',
    orders: [
      {
        order_id: '1004',
        product: 'Widget A',
        quantity: 1,
        price: 10.99,
        timestamp: '2024-04-24T12:15:00Z'
      },
      {
        order_id: '1005',
        product: 'Widget B',
        quantity: 2,
        price: 15.49,
        timestamp: '2024-04-23T16:20:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cf'),
    user_id: '14',
    username: 'user14',
    orders: [
      {
        order_id: '1022',
        product: 'Widget T',
        quantity: 2,
        price: 30.99,
        timestamp: '2024-04-06T14:15:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d0'),
    user_id: '13',
    username: 'user13',
    orders: [
      {
        order_id: '1020',
        product: 'Widget R',
        quantity: 1,
        price: 28.99,
        timestamp: '2024-04-08T10:45:00Z'
      },
      {
        order_id: '1021',
        product: 'Widget S',
        quantity: 1,
        price: 32.49,
        timestamp: '2024-04-07T12:30:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d1'),
    user_id: '15',
ecommerece> db.orders.updateMany({orders:{$elemMatch:{quantity:{$lte:2}}}},{$set:{"orders:$.neglect":true}})
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 14,
  modifiedCount: 14,
  upsertedCount: 0
}
ecommerece> db.orders.find({orders:{$elemMatch:{quantity:{$lte:2}}}})
[
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c4'),
    user_id: '7',
    username: 'user7',
    orders: [
      {
        order_id: '1011',
        product: 'Widget I',
        quantity: 2,
        price: 12.99,
        timestamp: '2024-04-17T10:30:00Z'
      },
      {
        order_id: '1012',
        product: 'Widget J',
        quantity: 1,
        price: 14.99,
        timestamp: '2024-04-16T09:15:00Z'
      }
    ],
    'orders:$': { neglect: true }
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c5'),
    user_id: '9',
    username: 'user9',
    orders: [
      {
        order_id: '1014',
        product: 'Widget L',
        quantity: 1,
        price: 19.99,
        timestamp: '2024-04-14T14:45:00Z'
      }
    ],
    'orders:$': { neglect: true }
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c6'),
    user_id: '4',
    username: 'user4',
    orders: [
      {
        order_id: '1006',
        product: 'Widget D',
        quantity: 1,
        price: 20.99,
        timestamp: '2024-04-22T14:00:00Z'
      },
      {
        order_id: '1007',
        product: 'Widget E',
        quantity: 1,
        price: 25.99,
        timestamp: '2024-04-21T11:30:00Z'
      }
    ],
    'orders:$': { neglect: true }
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c7'),
    user_id: '1',
    username: 'user1',
    orders: [
      {
        order_id: '1001',
        product: 'Widget A',
        quantity: 2,
        price: 10.99,
        timestamp: '2024-04-27T10:00:00Z'
      },
      {
        order_id: '1002',
        product: 'Widget B',
        quantity: 1,
        price: 15.49,
        timestamp: '2024-04-26T15:30:00Z'
      }
    ],
    'orders:$': { neglect: true }
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c9'),
    user_id: '10',
    username: 'user10',
    orders: [
      {
        order_id: '1015',
        product: 'Widget M',
        quantity: 3,
        price: 24.99,
        timestamp: '2024-04-13T16:30:00Z'
      },
      {
        order_id: '1016',
        product: 'Widget N',
        quantity: 1,
        price: 28.49,
        timestamp: '2024-04-12T11:20:00Z'
      }
    ],
    'orders:$': { neglect: true }
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ca'),
    user_id: '11',
    username: 'user11',
    orders: [
      {
        order_id: '1017',
        product: 'Widget O',
        quantity: 2,
        price: 26.99,
        timestamp: '2024-04-11T09:00:00Z'
      }
    ],
    'orders:$': { neglect: true }
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cb'),
    user_id: '12',
    username: 'user12',
    orders: [
      {
        order_id: '1018',
        product: 'Widget P',
        quantity: 1,
        price: 32.99,
        timestamp: '2024-04-10T14:20:00Z'
      },
      {
        order_id: '1019',
        product: 'Widget Q',
        quantity: 2,
        price: 35.49,
        timestamp: '2024-04-09T16:10:00Z'
      }
    ],
    'orders:$': { neglect: true }
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cc'),
    user_id: '5',
    username: 'user5',
    orders: [
      {
        order_id: '1008',
        product: 'Widget F',
        quantity: 2,
        price: 18.99,
        timestamp: '2024-04-20T08:45:00Z'
      }
    ],
    'orders:$': { neglect: true }
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cd'),
    user_id: '8',
    username: 'user8',
    orders: [
      {
        order_id: '1013',
        product: 'Widget K',
        quantity: 2,
        price: 16.99,
        timestamp: '2024-04-15T12:00:00Z'
      }
    ],
    'orders:$': { neglect: true }
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ce'),
    user_id: '3',
    username: 'user3',
    orders: [
      {
        order_id: '1004',
        product: 'Widget A',
        quantity: 1,
        price: 10.99,
        timestamp: '2024-04-24T12:15:00Z'
      },
      {
        order_id: '1005',
        product: 'Widget B',
        quantity: 2,
        price: 15.49,
        timestamp: '2024-04-23T16:20:00Z'
      }
    ],
    'orders:$': { neglect: true }
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cf'),
    user_id: '14',
    username: 'user14',
    orders: [
      {
        order_id: '1022',
        product: 'Widget T',
        quantity: 2,
        price: 30.99,
        timestamp: '2024-04-06T14:15:00Z'
      }
    ],
    'orders:$': { neglect: true }
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d0'),
    user_id: '13',
    username: 'user13',
    orders: [
      {
        order_id: '1020',
        product: 'Widget R',
        quantity: 1,
        price: 28.99,
        timestamp: '2024-04-08T10:45:00Z'
      },
      {
        order_id: '1021',
        product: 'Widget S',
        quantity: 1,
        price: 32.49,
        timestamp: '2024-04-07T12:30:00Z'
      }
    ],
    'orders:$': { neglect: true }
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d1'),
    user_id: '15',
    username: 'user15',
    orders: [
      {
        order_id: '1023',
        product: 'Widget U',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-05T11:00:00Z'
      },
      {
        order_id: '1024',
        product: 'Widget V',
        quantity: 3,
        price: 40.49,
        timestamp: '2024-04-04T09:30:00Z'
      }
    ],
    'orders:$': { neglect: true }
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d2'),
    user_id: '6',
    username: 'user6',
    orders: [
      {
        order_id: '1009',
        product: 'Widget G',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-19T13:20:00Z'
      },
      {
        order_id: '1010',
        product: 'Widget H',
        quantity: 3,
        price: 30.49,
        timestamp: '2024-04-18T17:10:00Z'
      }
    ],
    'orders:$': { neglect: true }
  }
]
ecommerece> db.orders.updateMany({orders:{$elemMatch:{quantity:{$lte:2}}}},{$set:{"orders.$.neglect":true}})
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 14,
  modifiedCount: 14,
  upsertedCount: 0
}
ecommerece> db.orders.find({orders:{$elemMatch:{quantity:{$lte:2}}}})
[
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c4'),
    user_id: '7',
    username: 'user7',
    orders: [
      {
        order_id: '1011',
        product: 'Widget I',
        quantity: 2,
        price: 12.99,
        timestamp: '2024-04-17T10:30:00Z',
        neglect: true
      },
      {
        order_id: '1012',
        product: 'Widget J',
        quantity: 1,
        price: 14.99,
        timestamp: '2024-04-16T09:15:00Z'
      }
    ],
    'orders:$': { neglect: true }
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c5'),
    user_id: '9',
    username: 'user9',
    orders: [
      {
        order_id: '1014',
        product: 'Widget L',
        quantity: 1,
        price: 19.99,
        timestamp: '2024-04-14T14:45:00Z',
        neglect: true
      }
    ],
    'orders:$': { neglect: true }
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c6'),
    user_id: '4',
    username: 'user4',
    orders: [
      {
        order_id: '1006',
        product: 'Widget D',
        quantity: 1,
        price: 20.99,
        timestamp: '2024-04-22T14:00:00Z',
        neglect: true
      },
      {
        order_id: '1007',
        product: 'Widget E',
        quantity: 1,
        price: 25.99,
        timestamp: '2024-04-21T11:30:00Z'
      }
    ],
    'orders:$': { neglect: true }
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c7'),
    user_id: '1',
    username: 'user1',
    orders: [
      {
        order_id: '1001',
        product: 'Widget A',
        quantity: 2,
        price: 10.99,
        timestamp: '2024-04-27T10:00:00Z',
        neglect: true
      },
      {
        order_id: '1002',
        product: 'Widget B',
        quantity: 1,
        price: 15.49,
        timestamp: '2024-04-26T15:30:00Z'
      }
    ],
    'orders:$': { neglect: true }
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c9'),
    user_id: '10',
    username: 'user10',
    orders: [
      {
        order_id: '1015',
        product: 'Widget M',
        quantity: 3,
        price: 24.99,
        timestamp: '2024-04-13T16:30:00Z'
      },
      {
        order_id: '1016',
        product: 'Widget N',
        quantity: 1,
        price: 28.49,
        timestamp: '2024-04-12T11:20:00Z',
        neglect: true
      }
    ],
    'orders:$': { neglect: true }
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ca'),
    user_id: '11',
    username: 'user11',
    orders: [
      {
        order_id: '1017',
        product: 'Widget O',
        quantity: 2,
        price: 26.99,
        timestamp: '2024-04-11T09:00:00Z',
        neglect: true
      }
    ],
    'orders:$': { neglect: true }
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cb'),
    user_id: '12',
    username: 'user12',
    orders: [
      {
        order_id: '1018',
        product: 'Widget P',
        quantity: 1,
        price: 32.99,
        timestamp: '2024-04-10T14:20:00Z',
        neglect: true
      },
      {
        order_id: '1019',
        product: 'Widget Q',
        quantity: 2,
        price: 35.49,
        timestamp: '2024-04-09T16:10:00Z'
      }
    ],
    'orders:$': { neglect: true }
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cc'),
    user_id: '5',
    username: 'user5',
    orders: [
      {
        order_id: '1008',
        product: 'Widget F',
        quantity: 2,
        price: 18.99,
        timestamp: '2024-04-20T08:45:00Z',
        neglect: true
      }
    ],
    'orders:$': { neglect: true }
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cd'),
    user_id: '8',
    username: 'user8',
    orders: [
      {
        order_id: '1013',
        product: 'Widget K',
        quantity: 2,
        price: 16.99,
        timestamp: '2024-04-15T12:00:00Z',
        neglect: true
      }
    ],
    'orders:$': { neglect: true }
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ce'),
    user_id: '3',
    username: 'user3',
    orders: [
      {
        order_id: '1004',
        product: 'Widget A',
        quantity: 1,
        price: 10.99,
        timestamp: '2024-04-24T12:15:00Z',
        neglect: true
      },
      {
        order_id: '1005',
        product: 'Widget B',
        quantity: 2,
        price: 15.49,
        timestamp: '2024-04-23T16:20:00Z'
      }
    ],
    'orders:$': { neglect: true }
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cf'),
    user_id: '14',
    username: 'user14',
    orders: [
      {
        order_id: '1022',
        product: 'Widget T',
        quantity: 2,
        price: 30.99,
        timestamp: '2024-04-06T14:15:00Z',
        neglect: true
      }
    ],
    'orders:$': { neglect: true }
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d0'),
    user_id: '13',
    username: 'user13',
    orders: [
      {
        order_id: '1020',
        product: 'Widget R',
        quantity: 1,
        price: 28.99,
        timestamp: '2024-04-08T10:45:00Z',
        neglect: true
      },
      {
        order_id: '1021',
        product: 'Widget S',
        quantity: 1,
        price: 32.49,
        timestamp: '2024-04-07T12:30:00Z'
      }
    ],
    'orders:$': { neglect: true }
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d1'),
    user_id: '15',
    username: 'user15',
    orders: [
      {
        order_id: '1023',
        product: 'Widget U',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-05T11:00:00Z',
        neglect: true
      },
      {
        order_id: '1024',
        product: 'Widget V',
        quantity: 3,
        price: 40.49,
        timestamp: '2024-04-04T09:30:00Z'
      }
    ],
    'orders:$': { neglect: true }
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d2'),
    user_id: '6',
    username: 'user6',
    orders: [
      {
        order_id: '1009',
        product: 'Widget G',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-19T13:20:00Z',
        neglect: true
      },
      {
        order_id: '1010',
        product: 'Widget H',
        quantity: 3,
        price: 30.49,
        timestamp: '2024-04-18T17:10:00Z'
      }
    ],
    'orders:$': { neglect: true }
  }
]
ecommerece> db.orders.updateMany({},{$unset:{"orders:$":''}})
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 15,
  modifiedCount: 14,
  upsertedCount: 0
}
ecommerece> db.orders.find({orders:{$elemMatch:{quantity:{$lte:2}}}})
[
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c4'),
    user_id: '7',
    username: 'user7',
    orders: [
      {
        order_id: '1011',
        product: 'Widget I',
        quantity: 2,
        price: 12.99,
        timestamp: '2024-04-17T10:30:00Z',
        neglect: true
      },
      {
        order_id: '1012',
        product: 'Widget J',
        quantity: 1,
        price: 14.99,
        timestamp: '2024-04-16T09:15:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c5'),
    user_id: '9',
    username: 'user9',
    orders: [
      {
        order_id: '1014',
        product: 'Widget L',
        quantity: 1,
        price: 19.99,
        timestamp: '2024-04-14T14:45:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c6'),
    user_id: '4',
    username: 'user4',
    orders: [
      {
        order_id: '1006',
        product: 'Widget D',
        quantity: 1,
        price: 20.99,
        timestamp: '2024-04-22T14:00:00Z',
        neglect: true
      },
      {
        order_id: '1007',
        product: 'Widget E',
        quantity: 1,
        price: 25.99,
        timestamp: '2024-04-21T11:30:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c7'),
    user_id: '1',
    username: 'user1',
    orders: [
      {
        order_id: '1001',
        product: 'Widget A',
        quantity: 2,
        price: 10.99,
        timestamp: '2024-04-27T10:00:00Z',
        neglect: true
      },
      {
        order_id: '1002',
        product: 'Widget B',
        quantity: 1,
        price: 15.49,
        timestamp: '2024-04-26T15:30:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c9'),
    user_id: '10',
    username: 'user10',
    orders: [
      {
        order_id: '1015',
        product: 'Widget M',
        quantity: 3,
        price: 24.99,
        timestamp: '2024-04-13T16:30:00Z'
      },
      {
        order_id: '1016',
        product: 'Widget N',
        quantity: 1,
        price: 28.49,
        timestamp: '2024-04-12T11:20:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ca'),
    user_id: '11',
    username: 'user11',
    orders: [
      {
        order_id: '1017',
        product: 'Widget O',
        quantity: 2,
        price: 26.99,
        timestamp: '2024-04-11T09:00:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cb'),
    user_id: '12',
    username: 'user12',
    orders: [
      {
        order_id: '1018',
        product: 'Widget P',
        quantity: 1,
        price: 32.99,
        timestamp: '2024-04-10T14:20:00Z',
        neglect: true
      },
      {
        order_id: '1019',
        product: 'Widget Q',
        quantity: 2,
        price: 35.49,
        timestamp: '2024-04-09T16:10:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cc'),
    user_id: '5',
    username: 'user5',
    orders: [
      {
        order_id: '1008',
        product: 'Widget F',
        quantity: 2,
        price: 18.99,
        timestamp: '2024-04-20T08:45:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cd'),
    user_id: '8',
    username: 'user8',
    orders: [
      {
        order_id: '1013',
        product: 'Widget K',
        quantity: 2,
        price: 16.99,
        timestamp: '2024-04-15T12:00:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ce'),
    user_id: '3',
    username: 'user3',
    orders: [
      {
        order_id: '1004',
        product: 'Widget A',
        quantity: 1,
        price: 10.99,
        timestamp: '2024-04-24T12:15:00Z',
        neglect: true
      },
      {
        order_id: '1005',
        product: 'Widget B',
        quantity: 2,
        price: 15.49,
        timestamp: '2024-04-23T16:20:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cf'),
    user_id: '14',
    username: 'user14',
    orders: [
      {
        order_id: '1022',
        product: 'Widget T',
        quantity: 2,
        price: 30.99,
        timestamp: '2024-04-06T14:15:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d0'),
    user_id: '13',
    username: 'user13',
    orders: [
      {
        order_id: '1020',
        product: 'Widget R',
        quantity: 1,
        price: 28.99,
        timestamp: '2024-04-08T10:45:00Z',
        neglect: true
      },
      {
        order_id: '1021',
        product: 'Widget S',
        quantity: 1,
        price: 32.49,
        timestamp: '2024-04-07T12:30:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d1'),
    user_id: '15',
    username: 'user15',
    orders: [
      {
        order_id: '1023',
        product: 'Widget U',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-05T11:00:00Z',
        neglect: true
      },
      {
        order_id: '1024',
        product: 'Widget V',
        quantity: 3,
        price: 40.49,
        timestamp: '2024-04-04T09:30:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d2'),
    user_id: '6',
    username: 'user6',
    orders: [
      {
        order_id: '1009',
        product: 'Widget G',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-19T13:20:00Z',
        neglect: true
      },
      {
        order_id: '1010',
        product: 'Widget H',
        quantity: 3,
        price: 30.49,
        timestamp: '2024-04-18T17:10:00Z'
      }
    ]
  }
]
ecommerece> db.orders.updateMany({orders:{$elemMatch:{quantity:{$lte:2}}}},{$set:{"orders.$[].neglect":1}})
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 14,
  modifiedCount: 14,
  upsertedCount: 0
}
ecommerece> db.orders.find({orders:{$elemMatch:{quantity:{$lte:2}}}})
[
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c4'),
    user_id: '7',
    username: 'user7',
    orders: [
      {
        order_id: '1011',
        product: 'Widget I',
        quantity: 2,
        price: 12.99,
        timestamp: '2024-04-17T10:30:00Z',
        neglect: 1
      },
      {
        order_id: '1012',
        product: 'Widget J',
        quantity: 1,
        price: 14.99,
        timestamp: '2024-04-16T09:15:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c5'),
    user_id: '9',
    username: 'user9',
    orders: [
      {
        order_id: '1014',
        product: 'Widget L',
        quantity: 1,
        price: 19.99,
        timestamp: '2024-04-14T14:45:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c6'),
    user_id: '4',
    username: 'user4',
    orders: [
      {
        order_id: '1006',
        product: 'Widget D',
        quantity: 1,
        price: 20.99,
        timestamp: '2024-04-22T14:00:00Z',
        neglect: 1
      },
      {
        order_id: '1007',
        product: 'Widget E',
        quantity: 1,
        price: 25.99,
        timestamp: '2024-04-21T11:30:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c7'),
    user_id: '1',
    username: 'user1',
    orders: [
      {
        order_id: '1001',
        product: 'Widget A',
        quantity: 2,
        price: 10.99,
        timestamp: '2024-04-27T10:00:00Z',
        neglect: 1
      },
      {
        order_id: '1002',
        product: 'Widget B',
        quantity: 1,
        price: 15.49,
        timestamp: '2024-04-26T15:30:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c9'),
    user_id: '10',
    username: 'user10',
    orders: [
      {
        order_id: '1015',
        product: 'Widget M',
        quantity: 3,
        price: 24.99,
        timestamp: '2024-04-13T16:30:00Z',
        neglect: 1
      },
      {
        order_id: '1016',
        product: 'Widget N',
        quantity: 1,
        price: 28.49,
        timestamp: '2024-04-12T11:20:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ca'),
    user_id: '11',
    username: 'user11',
    orders: [
      {
        order_id: '1017',
        product: 'Widget O',
        quantity: 2,
        price: 26.99,
        timestamp: '2024-04-11T09:00:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cb'),
    user_id: '12',
    username: 'user12',
    orders: [
      {
        order_id: '1018',
        product: 'Widget P',
        quantity: 1,
        price: 32.99,
        timestamp: '2024-04-10T14:20:00Z',
        neglect: 1
      },
      {
        order_id: '1019',
        product: 'Widget Q',
        quantity: 2,
        price: 35.49,
        timestamp: '2024-04-09T16:10:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cc'),
    user_id: '5',
    username: 'user5',
    orders: [
      {
        order_id: '1008',
        product: 'Widget F',
        quantity: 2,
        price: 18.99,
        timestamp: '2024-04-20T08:45:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cd'),
    user_id: '8',
    username: 'user8',
    orders: [
      {
        order_id: '1013',
        product: 'Widget K',
        quantity: 2,
        price: 16.99,
        timestamp: '2024-04-15T12:00:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ce'),
    user_id: '3',
    username: 'user3',
    orders: [
      {
        order_id: '1004',
        product: 'Widget A',
        quantity: 1,
        price: 10.99,
        timestamp: '2024-04-24T12:15:00Z',
        neglect: 1
      },
      {
        order_id: '1005',
        product: 'Widget B',
        quantity: 2,
        price: 15.49,
        timestamp: '2024-04-23T16:20:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cf'),
    user_id: '14',
    username: 'user14',
    orders: [
      {
        order_id: '1022',
        product: 'Widget T',
        quantity: 2,
        price: 30.99,
        timestamp: '2024-04-06T14:15:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d0'),
    user_id: '13',
    username: 'user13',
    orders: [
      {
        order_id: '1020',
        product: 'Widget R',
        quantity: 1,
        price: 28.99,
        timestamp: '2024-04-08T10:45:00Z',
        neglect: 1
      },
      {
        order_id: '1021',
        product: 'Widget S',
        quantity: 1,
        price: 32.49,
        timestamp: '2024-04-07T12:30:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d1'),
    user_id: '15',
    username: 'user15',
    orders: [
      {
        order_id: '1023',
        product: 'Widget U',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-05T11:00:00Z',
        neglect: 1
      },
      {
        order_id: '1024',
        product: 'Widget V',
        quantity: 3,
        price: 40.49,
        timestamp: '2024-04-04T09:30:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d2'),
    user_id: '6',
    username: 'user6',
    orders: [
      {
        order_id: '1009',
        product: 'Widget G',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-19T13:20:00Z',
        neglect: 1
      },
      {
        order_id: '1010',
        product: 'Widget H',
        quantity: 3,
        price: 30.49,
        timestamp: '2024-04-18T17:10:00Z',
        neglect: 1
      }
    ]
  }
]
ecommerece> db.orders.updateMany({orders:{$elemMatch:{quantity:{$lte:2}}}},{$set:{"orders.$[e].neglect":true}},{ArrayFilters:[{"e.quantity":{quantity:{$lte:2}}}]})
MongoServerError: No array filter found for identifier 'e' in path 'orders.$[e].neglect'
ecommerece> db.orders.updateMany({orders:{$elemMatch:{quantity:{$lte:2}}}},{$set:{"orders.$[e].neglect":true}},{arrayFilters:[{"e.quantity":{quantity:{$lte:2}}}]})
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 14,
  modifiedCount: 0,
  upsertedCount: 0
}
ecommerece> db.orders.find({orders:{$elemMatch:{quantity:{$lte:2}}}})
[
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c4'),
    user_id: '7',
    username: 'user7',
    orders: [
      {
        order_id: '1011',
        product: 'Widget I',
        quantity: 2,
        price: 12.99,
        timestamp: '2024-04-17T10:30:00Z',
        neglect: 1
      },
      {
        order_id: '1012',
        product: 'Widget J',
        quantity: 1,
        price: 14.99,
        timestamp: '2024-04-16T09:15:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c5'),
    user_id: '9',
    username: 'user9',
    orders: [
      {
        order_id: '1014',
        product: 'Widget L',
        quantity: 1,
        price: 19.99,
        timestamp: '2024-04-14T14:45:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c6'),
    user_id: '4',
    username: 'user4',
    orders: [
      {
        order_id: '1006',
        product: 'Widget D',
        quantity: 1,
        price: 20.99,
        timestamp: '2024-04-22T14:00:00Z',
        neglect: 1
      },
      {
        order_id: '1007',
        product: 'Widget E',
        quantity: 1,
        price: 25.99,
        timestamp: '2024-04-21T11:30:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c7'),
    user_id: '1',
    username: 'user1',
    orders: [
      {
        order_id: '1001',
        product: 'Widget A',
        quantity: 2,
        price: 10.99,
        timestamp: '2024-04-27T10:00:00Z',
        neglect: 1
      },
      {
        order_id: '1002',
        product: 'Widget B',
        quantity: 1,
        price: 15.49,
        timestamp: '2024-04-26T15:30:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c9'),
    user_id: '10',
    username: 'user10',
    orders: [
      {
        order_id: '1015',
        product: 'Widget M',
        quantity: 3,
        price: 24.99,
        timestamp: '2024-04-13T16:30:00Z',
        neglect: 1
      },
      {
        order_id: '1016',
        product: 'Widget N',
        quantity: 1,
        price: 28.49,
        timestamp: '2024-04-12T11:20:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ca'),
    user_id: '11',
    username: 'user11',
    orders: [
      {
        order_id: '1017',
        product: 'Widget O',
        quantity: 2,
        price: 26.99,
        timestamp: '2024-04-11T09:00:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cb'),
    user_id: '12',
    username: 'user12',
    orders: [
      {
        order_id: '1018',
        product: 'Widget P',
        quantity: 1,
        price: 32.99,
        timestamp: '2024-04-10T14:20:00Z',
        neglect: 1
      },
      {
        order_id: '1019',
        product: 'Widget Q',
        quantity: 2,
        price: 35.49,
        timestamp: '2024-04-09T16:10:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cc'),
    user_id: '5',
    username: 'user5',
    orders: [
      {
        order_id: '1008',
        product: 'Widget F',
        quantity: 2,
        price: 18.99,
        timestamp: '2024-04-20T08:45:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cd'),
    user_id: '8',
    username: 'user8',
    orders: [
      {
        order_id: '1013',
        product: 'Widget K',
        quantity: 2,
        price: 16.99,
        timestamp: '2024-04-15T12:00:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ce'),
    user_id: '3',
    username: 'user3',
    orders: [
      {
        order_id: '1004',
        product: 'Widget A',
        quantity: 1,
        price: 10.99,
        timestamp: '2024-04-24T12:15:00Z',
        neglect: 1
      },
      {
        order_id: '1005',
        product: 'Widget B',
        quantity: 2,
        price: 15.49,
        timestamp: '2024-04-23T16:20:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cf'),
    user_id: '14',
    username: 'user14',
    orders: [
      {
        order_id: '1022',
        product: 'Widget T',
        quantity: 2,
        price: 30.99,
        timestamp: '2024-04-06T14:15:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d0'),
    user_id: '13',
    username: 'user13',
    orders: [
      {
        order_id: '1020',
        product: 'Widget R',
        quantity: 1,
        price: 28.99,
        timestamp: '2024-04-08T10:45:00Z',
        neglect: 1
      },
      {
        order_id: '1021',
        product: 'Widget S',
        quantity: 1,
        price: 32.49,
        timestamp: '2024-04-07T12:30:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d1'),
    user_id: '15',
    username: 'user15',
    orders: [
      {
        order_id: '1023',
        product: 'Widget U',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-05T11:00:00Z',
        neglect: 1
      },
      {
        order_id: '1024',
        product: 'Widget V',
        quantity: 3,
        price: 40.49,
        timestamp: '2024-04-04T09:30:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d2'),
    user_id: '6',
    username: 'user6',
    orders: [
      {
        order_id: '1009',
        product: 'Widget G',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-19T13:20:00Z',
        neglect: 1
      },
      {
        order_id: '1010',
        product: 'Widget H',
        quantity: 3,
        price: 30.49,
        timestamp: '2024-04-18T17:10:00Z',
        neglect: 1
      }
    ]
  }
]
ecommerece> db.orders.updateMany({orders:{$elemMatch:{quantity:{$lte:2}}}},{$set:{"orders.$[e].neglect":true}},{arrayFilters:[{"e.quantity":{$lte:2}}]})

{
  acknowledged: true,
  insertedId: null,
  matchedCount: 14,
  modifiedCount: 14,
  upsertedCount: 0
}
ecommerece> db.orders.find({orders:{$elemMatch:{quantity:{$lte:2}}}})
[
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c4'),
    user_id: '7',
    username: 'user7',
    orders: [
      {
        order_id: '1011',
        product: 'Widget I',
        quantity: 2,
        price: 12.99,
        timestamp: '2024-04-17T10:30:00Z',
        neglect: true
      },
      {
        order_id: '1012',
        product: 'Widget J',
        quantity: 1,
        price: 14.99,
        timestamp: '2024-04-16T09:15:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c5'),
    user_id: '9',
    username: 'user9',
    orders: [
      {
        order_id: '1014',
        product: 'Widget L',
        quantity: 1,
        price: 19.99,
        timestamp: '2024-04-14T14:45:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c6'),
    user_id: '4',
    username: 'user4',
    orders: [
      {
        order_id: '1006',
        product: 'Widget D',
        quantity: 1,
        price: 20.99,
        timestamp: '2024-04-22T14:00:00Z',
        neglect: true
      },
      {
        order_id: '1007',
        product: 'Widget E',
        quantity: 1,
        price: 25.99,
        timestamp: '2024-04-21T11:30:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c7'),
    user_id: '1',
    username: 'user1',
    orders: [
      {
        order_id: '1001',
        product: 'Widget A',
        quantity: 2,
        price: 10.99,
        timestamp: '2024-04-27T10:00:00Z',
        neglect: true
      },
      {
        order_id: '1002',
        product: 'Widget B',
        quantity: 1,
        price: 15.49,
        timestamp: '2024-04-26T15:30:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c9'),
    user_id: '10',
    username: 'user10',
    orders: [
      {
        order_id: '1015',
        product: 'Widget M',
        quantity: 3,
        price: 24.99,
        timestamp: '2024-04-13T16:30:00Z',
        neglect: 1
      },
      {
        order_id: '1016',
        product: 'Widget N',
        quantity: 1,
        price: 28.49,
        timestamp: '2024-04-12T11:20:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ca'),
    user_id: '11',
    username: 'user11',
    orders: [
      {
        order_id: '1017',
        product: 'Widget O',
        quantity: 2,
        price: 26.99,
        timestamp: '2024-04-11T09:00:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cb'),
    user_id: '12',
    username: 'user12',
    orders: [
      {
        order_id: '1018',
        product: 'Widget P',
        quantity: 1,
        price: 32.99,
        timestamp: '2024-04-10T14:20:00Z',
        neglect: true
      },
      {
        order_id: '1019',
        product: 'Widget Q',
        quantity: 2,
        price: 35.49,
        timestamp: '2024-04-09T16:10:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cc'),
    user_id: '5',
    username: 'user5',
    orders: [
      {
        order_id: '1008',
        product: 'Widget F',
        quantity: 2,
        price: 18.99,
        timestamp: '2024-04-20T08:45:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cd'),
    user_id: '8',
    username: 'user8',
    orders: [
      {
        order_id: '1013',
        product: 'Widget K',
        quantity: 2,
        price: 16.99,
        timestamp: '2024-04-15T12:00:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ce'),
    user_id: '3',
    username: 'user3',
    orders: [
      {
        order_id: '1004',
        product: 'Widget A',
        quantity: 1,
        price: 10.99,
        timestamp: '2024-04-24T12:15:00Z',
        neglect: true
      },
      {
        order_id: '1005',
        product: 'Widget B',
        quantity: 2,
        price: 15.49,
        timestamp: '2024-04-23T16:20:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cf'),
    user_id: '14',
    username: 'user14',
    orders: [
      {
        order_id: '1022',
        product: 'Widget T',
        quantity: 2,
        price: 30.99,
        timestamp: '2024-04-06T14:15:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d0'),
    user_id: '13',
    username: 'user13',
    orders: [
      {
        order_id: '1020',
        product: 'Widget R',
        quantity: 1,
        price: 28.99,
        timestamp: '2024-04-08T10:45:00Z',
        neglect: true
      },
      {
        order_id: '1021',
        product: 'Widget S',
        quantity: 1,
        price: 32.49,
        timestamp: '2024-04-07T12:30:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d1'),
    user_id: '15',
    username: 'user15',
    orders: [
      {
        order_id: '1023',
        product: 'Widget U',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-05T11:00:00Z',
        neglect: true
      },
      {
        order_id: '1024',
        product: 'Widget V',
        quantity: 3,
        price: 40.49,
        timestamp: '2024-04-04T09:30:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d2'),
    user_id: '6',
    username: 'user6',
    orders: [
      {
        order_id: '1009',
        product: 'Widget G',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-19T13:20:00Z',
        neglect: true
      },
      {
        order_id: '1010',
        product: 'Widget H',
        quantity: 3,
        price: 30.49,
        timestamp: '2024-04-18T17:10:00Z',
        neglect: 1
      }
    ]
  }
]
ecommerece> db.orders.updateOne({user_id:'6',username:'user6'},{$push:{orders:{order_id:'19002',product:"Nestle Chocolate",quantity:100,timeStamp:new Date()}}})
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 1,
  modifiedCount: 1,
  upsertedCount: 0
}
ecommerece> db.orders.find()
[
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c4'),
    user_id: '7',
    username: 'user7',
    orders: [
      {
        order_id: '1011',
        product: 'Widget I',
        quantity: 2,
        price: 12.99,
        timestamp: '2024-04-17T10:30:00Z',
        neglect: true
      },
      {
        order_id: '1012',
        product: 'Widget J',
        quantity: 1,
        price: 14.99,
        timestamp: '2024-04-16T09:15:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c5'),
    user_id: '9',
    username: 'user9',
    orders: [
      {
        order_id: '1014',
        product: 'Widget L',
        quantity: 1,
        price: 19.99,
        timestamp: '2024-04-14T14:45:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c6'),
    user_id: '4',
    username: 'user4',
    orders: [
      {
        order_id: '1006',
        product: 'Widget D',
        quantity: 1,
        price: 20.99,
        timestamp: '2024-04-22T14:00:00Z',
        neglect: true
      },
      {
        order_id: '1007',
        product: 'Widget E',
        quantity: 1,
        price: 25.99,
        timestamp: '2024-04-21T11:30:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c7'),
    user_id: '1',
    username: 'user1',
    orders: [
      {
        order_id: '1001',
        product: 'Widget A',
        quantity: 2,
        price: 10.99,
        timestamp: '2024-04-27T10:00:00Z',
        neglect: true
      },
      {
        order_id: '1002',
        product: 'Widget B',
        quantity: 1,
        price: 15.49,
        timestamp: '2024-04-26T15:30:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c8'),
    user_id: '2',
    username: 'user2',
    orders: [
      {
        order_id: '1003',
        product: 'Widget C',
        quantity: 3,
        price: 8.99,
        timestamp: '2024-04-25T09:45:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c9'),
    user_id: '10',
    username: 'user10',
    orders: [
      {
        order_id: '1015',
        product: 'Widget M',
        quantity: 3,
        price: 24.99,
        timestamp: '2024-04-13T16:30:00Z',
        neglect: 1
      },
      {
        order_id: '1016',
        product: 'Widget N',
        quantity: 1,
        price: 28.49,
        timestamp: '2024-04-12T11:20:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ca'),
    user_id: '11',
    username: 'user11',
    orders: [
      {
        order_id: '1017',
        product: 'Widget O',
        quantity: 2,
        price: 26.99,
        timestamp: '2024-04-11T09:00:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cb'),
    user_id: '12',
    username: 'user12',
    orders: [
      {
        order_id: '1018',
        product: 'Widget P',
        quantity: 1,
        price: 32.99,
        timestamp: '2024-04-10T14:20:00Z',
        neglect: true
      },
      {
        order_id: '1019',
        product: 'Widget Q',
        quantity: 2,
        price: 35.49,
        timestamp: '2024-04-09T16:10:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cc'),
    user_id: '5',
    username: 'user5',
    orders: [
      {
        order_id: '1008',
        product: 'Widget F',
        quantity: 2,
        price: 18.99,
        timestamp: '2024-04-20T08:45:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cd'),
    user_id: '8',
    username: 'user8',
    orders: [
      {
        order_id: '1013',
        product: 'Widget K',
        quantity: 2,
        price: 16.99,
        timestamp: '2024-04-15T12:00:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ce'),
    user_id: '3',
    username: 'user3',
    orders: [
      {
        order_id: '1004',
        product: 'Widget A',
        quantity: 1,
        price: 10.99,
        timestamp: '2024-04-24T12:15:00Z',
        neglect: true
      },
      {
        order_id: '1005',
        product: 'Widget B',
        quantity: 2,
        price: 15.49,
        timestamp: '2024-04-23T16:20:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cf'),
    user_id: '14',
    username: 'user14',
    orders: [
      {
        order_id: '1022',
        product: 'Widget T',
        quantity: 2,
        price: 30.99,
        timestamp: '2024-04-06T14:15:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d0'),
    user_id: '13',
    username: 'user13',
    orders: [
      {
        order_id: '1020',
        product: 'Widget R',
        quantity: 1,
        price: 28.99,
        timestamp: '2024-04-08T10:45:00Z',
        neglect: true
      },
      {
        order_id: '1021',
        product: 'Widget S',
        quantity: 1,
        price: 32.49,
        timestamp: '2024-04-07T12:30:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d1'),
    user_id: '15',
    username: 'user15',
    orders: [
      {
        order_id: '1023',
        product: 'Widget U',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-05T11:00:00Z',
        neglect: true
      },
      {
        order_id: '1024',
        product: 'Widget V',
        quantity: 3,
        price: 40.49,
        timestamp: '2024-04-04T09:30:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d2'),
    user_id: '6',
    username: 'user6',
    orders: [
      {
        order_id: '1009',
        product: 'Widget G',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-19T13:20:00Z',
        neglect: true
      },
      {
        order_id: '1010',
        product: 'Widget H',
        quantity: 3,
        price: 30.49,
        timestamp: '2024-04-18T17:10:00Z',
        neglect: 1
      },
      {
        order_id: '19002',
        product: 'Nestle Chocolate',
        quantity: 100,
        timeStamp: ISODate('2024-04-29T04:09:29.021Z')
      }
    ]
  }
]
ecommerece> db.orders.updateOne({user_id:'6',username:'user6'},{$push:{orders:{order_id:'19004',product:"Nestle Chocolate",quantity:100,timeStamp:new Date().toLocalstring()}}})
TypeError: new Date().toLocalstring is not a function
ecommerece> db.orders.updateOne({user_id:'6',username:'user6'},{$push:{orders:{order_id:'19004',product:"Nestle Chocolate",quantity:100,timeStamp:new Date().toLocalString()}}})
TypeError: new Date().toLocalString is not a function
ecommerece> db.orders.updateOne({user_id:'6',username:'user6'},{$push:{orders:{order_id:'19004',product:"Nestle Chocolate",quantity:100,timeStamp:new Date(Date.now().toString())}})
Uncaught:
SyntaxError: Unexpected token, expected "," (1:167)

> 1 | db.orders.updateOne({user_id:'6',username:'user6'},{$push:{orders:{order_id:'19004',product:"Nestle Chocolate",quantity:100,timeStamp:new Date(Date.now().toString())}})
    |

                     ^
  2 |

ecommerece> db.orders.updateOne({user_id:'6',username:'user6'},{$push:{orders:{order_id:'19004',product:"Nestle Chocolate",quantity:100,timeStamp:new Date(Date.now())}})
Uncaught:
SyntaxError: Unexpected token, expected "," (1:156)

> 1 | db.orders.updateOne({user_id:'6',username:'user6'},{$push:{orders:{order_id:'19004',product:"Nestle Chocolate",quantity:100,timeStamp:new Date(Date.now())}})
    |

          ^
  2 |

ecommerece> db.orders.updateOne(
...     { user_id: '6', username: 'user6' },
...     {
...         $push:
...         {
...             orders:
...             {
...                 order_id: '19004',
...                 product: "Nestle Chocolate",
...                 quantity: 100,
...                 timeStamp: new Date(Date.now())
...             }
...         }
...     })
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 1,
  modifiedCount: 1,
  upsertedCount: 0
}
ecommerece> db.orders.find()
[
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c4'),
    user_id: '7',
    username: 'user7',
    orders: [
      {
        order_id: '1011',
        product: 'Widget I',
        quantity: 2,
        price: 12.99,
        timestamp: '2024-04-17T10:30:00Z',
        neglect: true
      },
      {
        order_id: '1012',
        product: 'Widget J',
        quantity: 1,
        price: 14.99,
        timestamp: '2024-04-16T09:15:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c5'),
    user_id: '9',
    username: 'user9',
    orders: [
      {
        order_id: '1014',
        product: 'Widget L',
        quantity: 1,
        price: 19.99,
        timestamp: '2024-04-14T14:45:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c6'),
    user_id: '4',
    username: 'user4',
    orders: [
      {
        order_id: '1006',
        product: 'Widget D',
        quantity: 1,
        price: 20.99,
        timestamp: '2024-04-22T14:00:00Z',
        neglect: true
      },
      {
        order_id: '1007',
        product: 'Widget E',
        quantity: 1,
        price: 25.99,
        timestamp: '2024-04-21T11:30:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c7'),
    user_id: '1',
    username: 'user1',
    orders: [
      {
        order_id: '1001',
        product: 'Widget A',
        quantity: 2,
        price: 10.99,
        timestamp: '2024-04-27T10:00:00Z',
        neglect: true
      },
      {
        order_id: '1002',
        product: 'Widget B',
        quantity: 1,
        price: 15.49,
        timestamp: '2024-04-26T15:30:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c8'),
    user_id: '2',
    username: 'user2',
    orders: [
      {
        order_id: '1003',
        product: 'Widget C',
        quantity: 3,
        price: 8.99,
        timestamp: '2024-04-25T09:45:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c9'),
    user_id: '10',
    username: 'user10',
    orders: [
      {
        order_id: '1015',
        product: 'Widget M',
        quantity: 3,
        price: 24.99,
        timestamp: '2024-04-13T16:30:00Z',
        neglect: 1
      },
      {
        order_id: '1016',
        product: 'Widget N',
        quantity: 1,
        price: 28.49,
        timestamp: '2024-04-12T11:20:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ca'),
    user_id: '11',
    username: 'user11',
    orders: [
      {
        order_id: '1017',
        product: 'Widget O',
        quantity: 2,
        price: 26.99,
        timestamp: '2024-04-11T09:00:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cb'),
    user_id: '12',
    username: 'user12',
    orders: [
      {
        order_id: '1018',
        product: 'Widget P',
        quantity: 1,
        price: 32.99,
        timestamp: '2024-04-10T14:20:00Z',
        neglect: true
      },
      {
        order_id: '1019',
        product: 'Widget Q',
        quantity: 2,
        price: 35.49,
        timestamp: '2024-04-09T16:10:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cc'),
    user_id: '5',
    username: 'user5',
    orders: [
      {
        order_id: '1008',
        product: 'Widget F',
        quantity: 2,
        price: 18.99,
        timestamp: '2024-04-20T08:45:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cd'),
    user_id: '8',
    username: 'user8',
    orders: [
      {
        order_id: '1013',
        product: 'Widget K',
        quantity: 2,
        price: 16.99,
        timestamp: '2024-04-15T12:00:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ce'),
    user_id: '3',
    username: 'user3',
    orders: [
      {
        order_id: '1004',
        product: 'Widget A',
        quantity: 1,
        price: 10.99,
        timestamp: '2024-04-24T12:15:00Z',
        neglect: true
      },
      {
        order_id: '1005',
        product: 'Widget B',
        quantity: 2,
        price: 15.49,
        timestamp: '2024-04-23T16:20:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cf'),
    user_id: '14',
    username: 'user14',
    orders: [
      {
        order_id: '1022',
        product: 'Widget T',
        quantity: 2,
        price: 30.99,
        timestamp: '2024-04-06T14:15:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d0'),
    user_id: '13',
    username: 'user13',
    orders: [
      {
        order_id: '1020',
        product: 'Widget R',
        quantity: 1,
        price: 28.99,
        timestamp: '2024-04-08T10:45:00Z',
        neglect: true
      },
      {
        order_id: '1021',
        product: 'Widget S',
        quantity: 1,
        price: 32.49,
        timestamp: '2024-04-07T12:30:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d1'),
    user_id: '15',
    username: 'user15',
    orders: [
      {
        order_id: '1023',
        product: 'Widget U',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-05T11:00:00Z',
        neglect: true
      },
      {
        order_id: '1024',
        product: 'Widget V',
        quantity: 3,
        price: 40.49,
        timestamp: '2024-04-04T09:30:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d2'),
    user_id: '6',
    username: 'user6',
    orders: [
      {
        order_id: '1009',
        product: 'Widget G',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-19T13:20:00Z',
        neglect: true
      },
      {
        order_id: '1010',
        product: 'Widget H',
        quantity: 3,
        price: 30.49,
        timestamp: '2024-04-18T17:10:00Z',
        neglect: 1
      },
      {
        order_id: '19002',
        product: 'Nestle Chocolate',
        quantity: 100,
        timeStamp: ISODate('2024-04-29T04:09:29.021Z')
      },
      {
        order_id: '19004',
        product: 'Nestle Chocolate',
        quantity: 100,
        timeStamp: ISODate('2024-04-29T04:12:46.167Z')
      }
    ]
  }
]
ecommerece> db.orders.updateOne({user_id:'6',username:'user6'},{$push:{orders:{order_id:'19004',product:"Nestle Chocolate",quantity:100,timeStamp:new Date(Date.now().toString())}})
Uncaught:
SyntaxError: Unexpected token, expected "," (1:167)

> 1 | db.orders.updateOne({user_id:'6',username:'user6'},{$push:{orders:{order_id:'19004',product:"Nestle Chocolate",quantity:100,timeStamp:new Date(Date.now().toString())}})
    |

                     ^
  2 |

ecommerece>  db.orders.updateOne(
...     { user_id: '6', username: 'user6' },
...     {
...         $push:
...         {
...             orders:
...             {
...                 order_id: '19004',
...                 product: "Nestle Chocolate",
...                 quantity: 100,
...                 timeStamp: new Date(Date.now().toString())
...             }
...         }
...     })
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 1,
  modifiedCount: 1,
  upsertedCount: 0
}
ecommerece> db.orders.find()
[
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c4'),
    user_id: '7',
    username: 'user7',
    orders: [
      {
        order_id: '1011',
        product: 'Widget I',
        quantity: 2,
        price: 12.99,
        timestamp: '2024-04-17T10:30:00Z',
        neglect: true
      },
      {
        order_id: '1012',
        product: 'Widget J',
        quantity: 1,
        price: 14.99,
        timestamp: '2024-04-16T09:15:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c5'),
    user_id: '9',
    username: 'user9',
    orders: [
      {
        order_id: '1014',
        product: 'Widget L',
        quantity: 1,
        price: 19.99,
        timestamp: '2024-04-14T14:45:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c6'),
    user_id: '4',
    username: 'user4',
    orders: [
      {
        order_id: '1006',
        product: 'Widget D',
        quantity: 1,
        price: 20.99,
        timestamp: '2024-04-22T14:00:00Z',
        neglect: true
      },
      {
        order_id: '1007',
        product: 'Widget E',
        quantity: 1,
        price: 25.99,
        timestamp: '2024-04-21T11:30:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c7'),
    user_id: '1',
    username: 'user1',
    orders: [
      {
        order_id: '1001',
        product: 'Widget A',
        quantity: 2,
        price: 10.99,
        timestamp: '2024-04-27T10:00:00Z',
        neglect: true
      },
      {
        order_id: '1002',
        product: 'Widget B',
        quantity: 1,
        price: 15.49,
        timestamp: '2024-04-26T15:30:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c8'),
    user_id: '2',
    username: 'user2',
    orders: [
      {
        order_id: '1003',
        product: 'Widget C',
        quantity: 3,
        price: 8.99,
        timestamp: '2024-04-25T09:45:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c9'),
    user_id: '10',
    username: 'user10',
    orders: [
      {
        order_id: '1015',
        product: 'Widget M',
        quantity: 3,
        price: 24.99,
        timestamp: '2024-04-13T16:30:00Z',
        neglect: 1
      },
      {
        order_id: '1016',
        product: 'Widget N',
        quantity: 1,
        price: 28.49,
        timestamp: '2024-04-12T11:20:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ca'),
    user_id: '11',
    username: 'user11',
    orders: [
      {
        order_id: '1017',
        product: 'Widget O',
        quantity: 2,
        price: 26.99,
        timestamp: '2024-04-11T09:00:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cb'),
    user_id: '12',
    username: 'user12',
    orders: [
      {
        order_id: '1018',
        product: 'Widget P',
        quantity: 1,
        price: 32.99,
        timestamp: '2024-04-10T14:20:00Z',
        neglect: true
      },
      {
        order_id: '1019',
        product: 'Widget Q',
        quantity: 2,
        price: 35.49,
        timestamp: '2024-04-09T16:10:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cc'),
    user_id: '5',
    username: 'user5',
    orders: [
      {
        order_id: '1008',
        product: 'Widget F',
        quantity: 2,
        price: 18.99,
        timestamp: '2024-04-20T08:45:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cd'),
    user_id: '8',
    username: 'user8',
    orders: [
      {
        order_id: '1013',
        product: 'Widget K',
        quantity: 2,
        price: 16.99,
        timestamp: '2024-04-15T12:00:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ce'),
    user_id: '3',
    username: 'user3',
    orders: [
      {
        order_id: '1004',
        product: 'Widget A',
        quantity: 1,
        price: 10.99,
        timestamp: '2024-04-24T12:15:00Z',
        neglect: true
      },
      {
        order_id: '1005',
        product: 'Widget B',
        quantity: 2,
        price: 15.49,
        timestamp: '2024-04-23T16:20:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cf'),
    user_id: '14',
    username: 'user14',
    orders: [
      {
        order_id: '1022',
        product: 'Widget T',
        quantity: 2,
        price: 30.99,
        timestamp: '2024-04-06T14:15:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d0'),
    user_id: '13',
    username: 'user13',
    orders: [
      {
        order_id: '1020',
        product: 'Widget R',
        quantity: 1,
        price: 28.99,
        timestamp: '2024-04-08T10:45:00Z',
        neglect: true
      },
      {
        order_id: '1021',
        product: 'Widget S',
        quantity: 1,
        price: 32.49,
        timestamp: '2024-04-07T12:30:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d1'),
    user_id: '15',
    username: 'user15',
    orders: [
      {
        order_id: '1023',
        product: 'Widget U',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-05T11:00:00Z',
        neglect: true
      },
      {
        order_id: '1024',
        product: 'Widget V',
        quantity: 3,
        price: 40.49,
        timestamp: '2024-04-04T09:30:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d2'),
    user_id: '6',
    username: 'user6',
    orders: [
      {
        order_id: '1009',
        product: 'Widget G',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-19T13:20:00Z',
        neglect: true
      },
      {
        order_id: '1010',
        product: 'Widget H',
        quantity: 3,
        price: 30.49,
        timestamp: '2024-04-18T17:10:00Z',
        neglect: 1
      },
      {
        order_id: '19002',
        product: 'Nestle Chocolate',
        quantity: 100,
        timeStamp: ISODate('2024-04-29T04:09:29.021Z')
      },
      {
        order_id: '19004',
        product: 'Nestle Chocolate',
        quantity: 100,
        timeStamp: ISODate('2024-04-29T04:12:46.167Z')
      },
      {
        order_id: '19004',
        product: 'Nestle Chocolate',
        quantity: 100,
        timeStamp: ISODate('1970-01-01T00:00:00.000Z')
      }
    ]
  }
]
ecommerece> db.orders.updateOne(
...     { user_id: '6', username: 'user6' },
...     {
...         $push:
...         {
...             orders:
...             {
...                 order_id: '19004',
...                 product: "Nestle Chocolate",
...                 quantity: 100,
...                 timeStamp: new Date(Date.now()).toISOString()
...             }
...         }
...     })
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 1,
  modifiedCount: 1,
  upsertedCount: 0
}
ecommerece> db.orders.find()
[
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c4'),
    user_id: '7',
    username: 'user7',
    orders: [
      {
        order_id: '1011',
        product: 'Widget I',
        quantity: 2,
        price: 12.99,
        timestamp: '2024-04-17T10:30:00Z',
        neglect: true
      },
      {
        order_id: '1012',
        product: 'Widget J',
        quantity: 1,
        price: 14.99,
        timestamp: '2024-04-16T09:15:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c5'),
    user_id: '9',
    username: 'user9',
    orders: [
      {
        order_id: '1014',
        product: 'Widget L',
        quantity: 1,
        price: 19.99,
        timestamp: '2024-04-14T14:45:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c6'),
    user_id: '4',
    username: 'user4',
    orders: [
      {
        order_id: '1006',
        product: 'Widget D',
        quantity: 1,
        price: 20.99,
        timestamp: '2024-04-22T14:00:00Z',
        neglect: true
      },
      {
        order_id: '1007',
        product: 'Widget E',
        quantity: 1,
        price: 25.99,
        timestamp: '2024-04-21T11:30:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c7'),
    user_id: '1',
    username: 'user1',
    orders: [
      {
        order_id: '1001',
        product: 'Widget A',
        quantity: 2,
        price: 10.99,
        timestamp: '2024-04-27T10:00:00Z',
        neglect: true
      },
      {
        order_id: '1002',
        product: 'Widget B',
        quantity: 1,
        price: 15.49,
        timestamp: '2024-04-26T15:30:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c8'),
    user_id: '2',
    username: 'user2',
    orders: [
      {
        order_id: '1003',
        product: 'Widget C',
        quantity: 3,
        price: 8.99,
        timestamp: '2024-04-25T09:45:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c9'),
    user_id: '10',
    username: 'user10',
    orders: [
      {
        order_id: '1015',
        product: 'Widget M',
        quantity: 3,
        price: 24.99,
        timestamp: '2024-04-13T16:30:00Z',
        neglect: 1
      },
      {
        order_id: '1016',
        product: 'Widget N',
        quantity: 1,
        price: 28.49,
        timestamp: '2024-04-12T11:20:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ca'),
    user_id: '11',
    username: 'user11',
    orders: [
      {
        order_id: '1017',
        product: 'Widget O',
        quantity: 2,
        price: 26.99,
        timestamp: '2024-04-11T09:00:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cb'),
    user_id: '12',
    username: 'user12',
    orders: [
      {
        order_id: '1018',
        product: 'Widget P',
        quantity: 1,
        price: 32.99,
        timestamp: '2024-04-10T14:20:00Z',
        neglect: true
      },
      {
        order_id: '1019',
        product: 'Widget Q',
        quantity: 2,
        price: 35.49,
        timestamp: '2024-04-09T16:10:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cc'),
    user_id: '5',
    username: 'user5',
    orders: [
      {
        order_id: '1008',
        product: 'Widget F',
        quantity: 2,
        price: 18.99,
        timestamp: '2024-04-20T08:45:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cd'),
    user_id: '8',
    username: 'user8',
    orders: [
      {
        order_id: '1013',
        product: 'Widget K',
        quantity: 2,
        price: 16.99,
        timestamp: '2024-04-15T12:00:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ce'),
    user_id: '3',
    username: 'user3',
    orders: [
      {
        order_id: '1004',
        product: 'Widget A',
        quantity: 1,
        price: 10.99,
        timestamp: '2024-04-24T12:15:00Z',
        neglect: true
      },
      {
        order_id: '1005',
        product: 'Widget B',
        quantity: 2,
        price: 15.49,
        timestamp: '2024-04-23T16:20:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cf'),
    user_id: '14',
    username: 'user14',
    orders: [
      {
        order_id: '1022',
        product: 'Widget T',
        quantity: 2,
        price: 30.99,
        timestamp: '2024-04-06T14:15:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d0'),
    user_id: '13',
    username: 'user13',
    orders: [
      {
        order_id: '1020',
        product: 'Widget R',
        quantity: 1,
        price: 28.99,
        timestamp: '2024-04-08T10:45:00Z',
        neglect: true
      },
      {
        order_id: '1021',
        product: 'Widget S',
        quantity: 1,
        price: 32.49,
        timestamp: '2024-04-07T12:30:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d1'),
    user_id: '15',
    username: 'user15',
    orders: [
      {
        order_id: '1023',
        product: 'Widget U',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-05T11:00:00Z',
        neglect: true
      },
      {
        order_id: '1024',
        product: 'Widget V',
        quantity: 3,
        price: 40.49,
        timestamp: '2024-04-04T09:30:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d2'),
    user_id: '6',
    username: 'user6',
    orders: [
      {
        order_id: '1009',
        product: 'Widget G',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-19T13:20:00Z',
        neglect: true
      },
      {
        order_id: '1010',
        product: 'Widget H',
        quantity: 3,
        price: 30.49,
        timestamp: '2024-04-18T17:10:00Z',
        neglect: 1
      },
      {
        order_id: '19002',
        product: 'Nestle Chocolate',
        quantity: 100,
        timeStamp: ISODate('2024-04-29T04:09:29.021Z')
      },
      {
        order_id: '19004',
        product: 'Nestle Chocolate',
        quantity: 100,
        timeStamp: ISODate('2024-04-29T04:12:46.167Z')
      },
      {
        order_id: '19004',
        product: 'Nestle Chocolate',
        quantity: 100,
        timeStamp: ISODate('1970-01-01T00:00:00.000Z')
      },
      {
        order_id: '19004',
        product: 'Nestle Chocolate',
        quantity: 100,
        timeStamp: '2024-04-29T04:14:33.581Z'
      }
    ]
  }
]
ecommerece> db.orders.updateOne( { user_id: '6', username: 'user6' }, { $addToSet: { orders: { order_id: '19004', product: "Nestle Chocolate", quantity: 100, timeStamp: new Date(Date.now()).toISOString() } } })
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 1,
  modifiedCount: 1,
  upsertedCount: 0
}
ecommerece> db.orders.find()
[
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c4'),
    user_id: '7',
    username: 'user7',
    orders: [
      {
        order_id: '1011',
        product: 'Widget I',
        quantity: 2,
        price: 12.99,
        timestamp: '2024-04-17T10:30:00Z',
        neglect: true
      },
      {
        order_id: '1012',
        product: 'Widget J',
        quantity: 1,
        price: 14.99,
        timestamp: '2024-04-16T09:15:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c5'),
    user_id: '9',
    username: 'user9',
    orders: [
      {
        order_id: '1014',
        product: 'Widget L',
        quantity: 1,
        price: 19.99,
        timestamp: '2024-04-14T14:45:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c6'),
    user_id: '4',
    username: 'user4',
    orders: [
      {
        order_id: '1006',
        product: 'Widget D',
        quantity: 1,
        price: 20.99,
        timestamp: '2024-04-22T14:00:00Z',
        neglect: true
      },
      {
        order_id: '1007',
        product: 'Widget E',
        quantity: 1,
        price: 25.99,
        timestamp: '2024-04-21T11:30:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c7'),
    user_id: '1',
    username: 'user1',
    orders: [
      {
        order_id: '1001',
        product: 'Widget A',
        quantity: 2,
        price: 10.99,
        timestamp: '2024-04-27T10:00:00Z',
        neglect: true
      },
      {
        order_id: '1002',
        product: 'Widget B',
        quantity: 1,
        price: 15.49,
        timestamp: '2024-04-26T15:30:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c8'),
    user_id: '2',
    username: 'user2',
    orders: [
      {
        order_id: '1003',
        product: 'Widget C',
        quantity: 3,
        price: 8.99,
        timestamp: '2024-04-25T09:45:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c9'),
    user_id: '10',
    username: 'user10',
    orders: [
      {
        order_id: '1015',
        product: 'Widget M',
        quantity: 3,
        price: 24.99,
        timestamp: '2024-04-13T16:30:00Z',
        neglect: 1
      },
      {
        order_id: '1016',
        product: 'Widget N',
        quantity: 1,
        price: 28.49,
        timestamp: '2024-04-12T11:20:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ca'),
    user_id: '11',
    username: 'user11',
    orders: [
      {
        order_id: '1017',
        product: 'Widget O',
        quantity: 2,
        price: 26.99,
        timestamp: '2024-04-11T09:00:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cb'),
    user_id: '12',
    username: 'user12',
    orders: [
      {
        order_id: '1018',
        product: 'Widget P',
        quantity: 1,
        price: 32.99,
        timestamp: '2024-04-10T14:20:00Z',
        neglect: true
      },
      {
        order_id: '1019',
        product: 'Widget Q',
        quantity: 2,
        price: 35.49,
        timestamp: '2024-04-09T16:10:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cc'),
    user_id: '5',
    username: 'user5',
    orders: [
      {
        order_id: '1008',
        product: 'Widget F',
        quantity: 2,
        price: 18.99,
        timestamp: '2024-04-20T08:45:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cd'),
    user_id: '8',
    username: 'user8',
    orders: [
      {
        order_id: '1013',
        product: 'Widget K',
        quantity: 2,
        price: 16.99,
        timestamp: '2024-04-15T12:00:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ce'),
    user_id: '3',
    username: 'user3',
    orders: [
      {
        order_id: '1004',
        product: 'Widget A',
        quantity: 1,
        price: 10.99,
        timestamp: '2024-04-24T12:15:00Z',
        neglect: true
      },
      {
        order_id: '1005',
        product: 'Widget B',
        quantity: 2,
        price: 15.49,
        timestamp: '2024-04-23T16:20:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cf'),
    user_id: '14',
    username: 'user14',
    orders: [
      {
        order_id: '1022',
        product: 'Widget T',
        quantity: 2,
        price: 30.99,
        timestamp: '2024-04-06T14:15:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d0'),
    user_id: '13',
    username: 'user13',
    orders: [
      {
        order_id: '1020',
        product: 'Widget R',
        quantity: 1,
        price: 28.99,
        timestamp: '2024-04-08T10:45:00Z',
        neglect: true
      },
      {
        order_id: '1021',
        product: 'Widget S',
        quantity: 1,
        price: 32.49,
        timestamp: '2024-04-07T12:30:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d1'),
    user_id: '15',
    username: 'user15',
    orders: [
      {
        order_id: '1023',
        product: 'Widget U',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-05T11:00:00Z',
        neglect: true
      },
      {
        order_id: '1024',
        product: 'Widget V',
        quantity: 3,
        price: 40.49,
        timestamp: '2024-04-04T09:30:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d2'),
    user_id: '6',
    username: 'user6',
    orders: [
      {
        order_id: '1009',
        product: 'Widget G',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-19T13:20:00Z',
        neglect: true
      },
      {
        order_id: '1010',
        product: 'Widget H',
        quantity: 3,
        price: 30.49,
        timestamp: '2024-04-18T17:10:00Z',
        neglect: 1
      },
      {
        order_id: '19002',
        product: 'Nestle Chocolate',
        quantity: 100,
        timeStamp: ISODate('2024-04-29T04:09:29.021Z')
      },
      {
        order_id: '19004',
        product: 'Nestle Chocolate',
        quantity: 100,
        timeStamp: ISODate('2024-04-29T04:12:46.167Z')
      },
      {
        order_id: '19004',
        product: 'Nestle Chocolate',
        quantity: 100,
        timeStamp: ISODate('1970-01-01T00:00:00.000Z')
      },
      {
        order_id: '19004',
        product: 'Nestle Chocolate',
        quantity: 100,
        timeStamp: '2024-04-29T04:14:33.581Z'
      },
      {
        order_id: '19004',
        product: 'Nestle Chocolate',
        quantity: 100,
        timeStamp: '2024-04-29T04:14:55.702Z'
      }
    ]
  }
]
ecommerece> //add to set will not set object, if there is already same objec
t

ecommerece> db.orders.updateOne( { user_id: '6', username: 'user6' }, { $pull: { orders: { order_id: '19004', product: "Nestle Chocolate", quantity: 100, timeStamp: new Date(Date.now()).toISOString() } } })
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 1,
  modifiedCount: 0,
  upsertedCount: 0
}
ecommerece> db.orders.updateOne( { user_id: '6', username: 'user6' }, { $pull: { orders: { order_id: '19004', product: "Nestle Chocolate"} } })
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 1,
  modifiedCount: 1,
  upsertedCount: 0
}
ecommerece> db.orders.updateOne( { user_id: '6', username: 'user6' }, { $pull: { orders: { order_id: '19004', product: "Nestle Chocolate"} } })
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 1,
  modifiedCount: 0,
  upsertedCount: 0
}
ecommerece> db.orders.find()
[
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c4'),
    user_id: '7',
    username: 'user7',
    orders: [
      {
        order_id: '1011',
        product: 'Widget I',
        quantity: 2,
        price: 12.99,
        timestamp: '2024-04-17T10:30:00Z',
        neglect: true
      },
      {
        order_id: '1012',
        product: 'Widget J',
        quantity: 1,
        price: 14.99,
        timestamp: '2024-04-16T09:15:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c5'),
    user_id: '9',
    username: 'user9',
    orders: [
      {
        order_id: '1014',
        product: 'Widget L',
        quantity: 1,
        price: 19.99,
        timestamp: '2024-04-14T14:45:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c6'),
    user_id: '4',
    username: 'user4',
    orders: [
      {
        order_id: '1006',
        product: 'Widget D',
        quantity: 1,
        price: 20.99,
        timestamp: '2024-04-22T14:00:00Z',
        neglect: true
      },
      {
        order_id: '1007',
        product: 'Widget E',
        quantity: 1,
        price: 25.99,
        timestamp: '2024-04-21T11:30:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c7'),
    user_id: '1',
    username: 'user1',
    orders: [
      {
        order_id: '1001',
        product: 'Widget A',
        quantity: 2,
        price: 10.99,
        timestamp: '2024-04-27T10:00:00Z',
        neglect: true
      },
      {
        order_id: '1002',
        product: 'Widget B',
        quantity: 1,
        price: 15.49,
        timestamp: '2024-04-26T15:30:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c8'),
    user_id: '2',
    username: 'user2',
    orders: [
      {
        order_id: '1003',
        product: 'Widget C',
        quantity: 3,
        price: 8.99,
        timestamp: '2024-04-25T09:45:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c9'),
    user_id: '10',
    username: 'user10',
    orders: [
      {
        order_id: '1015',
        product: 'Widget M',
        quantity: 3,
        price: 24.99,
        timestamp: '2024-04-13T16:30:00Z',
        neglect: 1
      },
      {
        order_id: '1016',
        product: 'Widget N',
        quantity: 1,
        price: 28.49,
        timestamp: '2024-04-12T11:20:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ca'),
    user_id: '11',
    username: 'user11',
    orders: [
      {
        order_id: '1017',
        product: 'Widget O',
        quantity: 2,
        price: 26.99,
        timestamp: '2024-04-11T09:00:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cb'),
    user_id: '12',
    username: 'user12',
    orders: [
      {
        order_id: '1018',
        product: 'Widget P',
        quantity: 1,
        price: 32.99,
        timestamp: '2024-04-10T14:20:00Z',
        neglect: true
      },
      {
        order_id: '1019',
        product: 'Widget Q',
        quantity: 2,
        price: 35.49,
        timestamp: '2024-04-09T16:10:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cc'),
    user_id: '5',
    username: 'user5',
    orders: [
      {
        order_id: '1008',
        product: 'Widget F',
        quantity: 2,
        price: 18.99,
        timestamp: '2024-04-20T08:45:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cd'),
    user_id: '8',
    username: 'user8',
    orders: [
      {
        order_id: '1013',
        product: 'Widget K',
        quantity: 2,
        price: 16.99,
        timestamp: '2024-04-15T12:00:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ce'),
    user_id: '3',
    username: 'user3',
    orders: [
      {
        order_id: '1004',
        product: 'Widget A',
        quantity: 1,
        price: 10.99,
        timestamp: '2024-04-24T12:15:00Z',
        neglect: true
      },
      {
        order_id: '1005',
        product: 'Widget B',
        quantity: 2,
        price: 15.49,
        timestamp: '2024-04-23T16:20:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cf'),
    user_id: '14',
    username: 'user14',
    orders: [
      {
        order_id: '1022',
        product: 'Widget T',
        quantity: 2,
        price: 30.99,
        timestamp: '2024-04-06T14:15:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d0'),
    user_id: '13',
    username: 'user13',
    orders: [
      {
        order_id: '1020',
        product: 'Widget R',
        quantity: 1,
        price: 28.99,
        timestamp: '2024-04-08T10:45:00Z',
        neglect: true
      },
      {
        order_id: '1021',
        product: 'Widget S',
        quantity: 1,
        price: 32.49,
        timestamp: '2024-04-07T12:30:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d1'),
    user_id: '15',
    username: 'user15',
    orders: [
      {
        order_id: '1023',
        product: 'Widget U',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-05T11:00:00Z',
        neglect: true
      },
      {
        order_id: '1024',
        product: 'Widget V',
        quantity: 3,
        price: 40.49,
        timestamp: '2024-04-04T09:30:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d2'),
    user_id: '6',
    username: 'user6',
    orders: [
      {
        order_id: '1009',
        product: 'Widget G',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-19T13:20:00Z',
        neglect: true
      },
      {
        order_id: '1010',
        product: 'Widget H',
        quantity: 3,
        price: 30.49,
        timestamp: '2024-04-18T17:10:00Z',
        neglect: 1
      },
      {
        order_id: '19002',
        product: 'Nestle Chocolate',
        quantity: 100,
        timeStamp: ISODate('2024-04-29T04:09:29.021Z')
      }
    ]
  }
]
ecommerece> db.orders.updateOne( { user_id: '6', username: 'user6' }, { $pull: { orders: { order_id: '19002', product: "Nestle Chocolate"} } })
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 1,
  modifiedCount: 1,
  upsertedCount: 0
}
ecommerece> db.orders.find()
[
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c4'),
    user_id: '7',
    username: 'user7',
    orders: [
      {
        order_id: '1011',
        product: 'Widget I',
        quantity: 2,
        price: 12.99,
        timestamp: '2024-04-17T10:30:00Z',
        neglect: true
      },
      {
        order_id: '1012',
        product: 'Widget J',
        quantity: 1,
        price: 14.99,
        timestamp: '2024-04-16T09:15:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c5'),
    user_id: '9',
    username: 'user9',
    orders: [
      {
        order_id: '1014',
        product: 'Widget L',
        quantity: 1,
        price: 19.99,
        timestamp: '2024-04-14T14:45:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c6'),
    user_id: '4',
    username: 'user4',
    orders: [
      {
        order_id: '1006',
        product: 'Widget D',
        quantity: 1,
        price: 20.99,
        timestamp: '2024-04-22T14:00:00Z',
        neglect: true
      },
      {
        order_id: '1007',
        product: 'Widget E',
        quantity: 1,
        price: 25.99,
        timestamp: '2024-04-21T11:30:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c7'),
    user_id: '1',
    username: 'user1',
    orders: [
      {
        order_id: '1001',
        product: 'Widget A',
        quantity: 2,
        price: 10.99,
        timestamp: '2024-04-27T10:00:00Z',
        neglect: true
      },
      {
        order_id: '1002',
        product: 'Widget B',
        quantity: 1,
        price: 15.49,
        timestamp: '2024-04-26T15:30:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c8'),
    user_id: '2',
    username: 'user2',
    orders: [
      {
        order_id: '1003',
        product: 'Widget C',
        quantity: 3,
        price: 8.99,
        timestamp: '2024-04-25T09:45:00Z'
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9c9'),
    user_id: '10',
    username: 'user10',
    orders: [
      {
        order_id: '1015',
        product: 'Widget M',
        quantity: 3,
        price: 24.99,
        timestamp: '2024-04-13T16:30:00Z',
        neglect: 1
      },
      {
        order_id: '1016',
        product: 'Widget N',
        quantity: 1,
        price: 28.49,
        timestamp: '2024-04-12T11:20:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ca'),
    user_id: '11',
    username: 'user11',
    orders: [
      {
        order_id: '1017',
        product: 'Widget O',
        quantity: 2,
        price: 26.99,
        timestamp: '2024-04-11T09:00:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cb'),
    user_id: '12',
    username: 'user12',
    orders: [
      {
        order_id: '1018',
        product: 'Widget P',
        quantity: 1,
        price: 32.99,
        timestamp: '2024-04-10T14:20:00Z',
        neglect: true
      },
      {
        order_id: '1019',
        product: 'Widget Q',
        quantity: 2,
        price: 35.49,
        timestamp: '2024-04-09T16:10:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cc'),
    user_id: '5',
    username: 'user5',
    orders: [
      {
        order_id: '1008',
        product: 'Widget F',
        quantity: 2,
        price: 18.99,
        timestamp: '2024-04-20T08:45:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cd'),
    user_id: '8',
    username: 'user8',
    orders: [
      {
        order_id: '1013',
        product: 'Widget K',
        quantity: 2,
        price: 16.99,
        timestamp: '2024-04-15T12:00:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9ce'),
    user_id: '3',
    username: 'user3',
    orders: [
      {
        order_id: '1004',
        product: 'Widget A',
        quantity: 1,
        price: 10.99,
        timestamp: '2024-04-24T12:15:00Z',
        neglect: true
      },
      {
        order_id: '1005',
        product: 'Widget B',
        quantity: 2,
        price: 15.49,
        timestamp: '2024-04-23T16:20:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9cf'),
    user_id: '14',
    username: 'user14',
    orders: [
      {
        order_id: '1022',
        product: 'Widget T',
        quantity: 2,
        price: 30.99,
        timestamp: '2024-04-06T14:15:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d0'),
    user_id: '13',
    username: 'user13',
    orders: [
      {
        order_id: '1020',
        product: 'Widget R',
        quantity: 1,
        price: 28.99,
        timestamp: '2024-04-08T10:45:00Z',
        neglect: true
      },
      {
        order_id: '1021',
        product: 'Widget S',
        quantity: 1,
        price: 32.49,
        timestamp: '2024-04-07T12:30:00Z',
        neglect: true
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d1'),
    user_id: '15',
    username: 'user15',
    orders: [
      {
        order_id: '1023',
        product: 'Widget U',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-05T11:00:00Z',
        neglect: true
      },
      {
        order_id: '1024',
        product: 'Widget V',
        quantity: 3,
        price: 40.49,
        timestamp: '2024-04-04T09:30:00Z',
        neglect: 1
      }
    ]
  },
  {
    _id: ObjectId('662cfb2431b97ce4a052a9d2'),
    user_id: '6',
    username: 'user6',
    orders: [
      {
        order_id: '1009',
        product: 'Widget G',
        quantity: 1,
        price: 22.99,
        timestamp: '2024-04-19T13:20:00Z',
        neglect: true
      },
      {
        order_id: '1010',
        product: 'Widget H',
        quantity: 3,
        price: 30.49,
        timestamp: '2024-04-18T17:10:00Z',
        neglect: 1
      }
    ]
  }
]
ecommerece> db.orders.update({name:"user6"},{$pull:{orders:{order_id:'1010',product:'Widget H'}}})
DeprecationWarning: Collection.update() is deprecated. Use updateOne, updateMany, or bulkWrite.
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 0,
  modifiedCount: 0,
  upsertedCount: 0
}
ecommerece> db.orders.update({username:"user6"},{$pull:{orders:{order_id:'1010',product:'Widget H'}}})
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 1,
  modifiedCount: 1,
  upsertedCount: 0
}
ecommerece> db.orders.findOne({username:"user6"})
{
  _id: ObjectId('662cfb2431b97ce4a052a9d2'),
  user_id: '6',
  username: 'user6',
  orders: [
    {
      order_id: '1009',
      product: 'Widget G',
      quantity: 1,
      price: 22.99,
      timestamp: '2024-04-19T13:20:00Z',
      neglect: true
    }
  ]
}
ecommerece> db.orders.findOne({username:"user15"})
{
  _id: ObjectId('662cfb2431b97ce4a052a9d1'),
  user_id: '15',
  username: 'user15',
  orders: [
    {
      order_id: '1023',
      product: 'Widget U',
      quantity: 1,
      price: 22.99,
      timestamp: '2024-04-05T11:00:00Z',
      neglect: true
    },
    {
      order_id: '1024',
      product: 'Widget V',
      quantity: 3,
      price: 40.49,
      timestamp: '2024-04-04T09:30:00Z',
      neglect: 1
    }
  ]
}
ecommerece> db.orders.update({username:"user15"},{$pop:{orders:2}})
MongoServerError: $pop expects 1 or -1, found: 2
ecommerece> db.orders.update({username:"user15"},{$pop:{orders:1}})
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 1,
  modifiedCount: 1,
  upsertedCount: 0
}
ecommerece> db.orders.findOne({username:"user15"})
{
  _id: ObjectId('662cfb2431b97ce4a052a9d1'),
  user_id: '15',
  username: 'user15',
  orders: [
    {
      order_id: '1023',
      product: 'Widget U',
      quantity: 1,
      price: 22.99,
      timestamp: '2024-04-05T11:00:00Z',
      neglect: true
    }
  ]
}
ecommerece> db.orders.update({username:"user15"},{$pop:{orders:1}})
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 1,
  modifiedCount: 1,
  upsertedCount: 0
}
ecommerece> db.orders.findOne({username:"user15"})
{
  _id: ObjectId('662cfb2431b97ce4a052a9d1'),
  user_id: '15',
  username: 'user15',
  orders: []
}
Please enter a MongoDB connection string (Default: mongodb://localhost/)
Please enter a MongoDB connection string (Default: mongodb://localhosecommeecommereceecomecommerececommerece> ecommerece>
ecommerece>